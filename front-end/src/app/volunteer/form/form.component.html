<h2>{{ isEditMode ? 'Edit Volunteer' : 'Add Volunteer' }}</h2>

<div class="row">
  <!-- left column -->
  <div class="col-md-12">
    <!-- general form elements -->
    <div class="card card-primary">
      <!-- /.card-header -->
      <!-- form start -->
      <form [formGroup]="volunteerForm" (ngSubmit)="onSubmit()">
        <div class="card-body">
          <div class="form-group">
            <label for="name">Name</label>
            <input formControlName="name" class="form-control" id="name" placeholder="Enter volunteer name">
          </div>
          <div class="form-group">
            <label for="phone">Phone</label>
            <input formControlName="phone" type="number" class="form-control" id="phone" placeholder="Enter phone">
          </div>

          <!-- Password field -->
          <div *ngIf="!isEditMode" class="form-group"
               [ngClass]="{'is-invalid': volunteerForm.get('password')?.touched && volunteerForm.get('password')?.invalid}">
            <label>Password</label>
            <input type="password" class="form-control" formControlName="password">
            <div *ngIf="volunteerForm.get('password')?.touched && volunteerForm.get('password')?.invalid" class="text-danger">
              Password is required.
            </div>
          </div>

          <!-- Show toggle only in edit mode -->
          <div *ngIf="isEditMode" class="form-group">
            <button type="button" class="btn btn-sm btn-outline-secondary" (click)="togglePasswordField()">Change Password</button>
          </div>

          <div *ngIf="isEditMode && showPasswordField" class="form-group"
               [ngClass]="{'is-invalid': volunteerForm.get('password')?.touched && volunteerForm.get('password')?.invalid}">
            <label>New Password</label>
            <input type="password" class="form-control" formControlName="password">
            <div *ngIf="volunteerForm.get('password')?.touched && volunteerForm.get('password')?.invalid" class="text-danger">
              Password is required.
            </div>
          </div>
        </div>
        <!-- /.card-body -->

        <div class="card-footer d-flex flex-wrap gap-2">
          <button type="submit" class="btn btn-primary">{{ isEditMode ? 'Update' : 'Add' }}</button>
          <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</div>
